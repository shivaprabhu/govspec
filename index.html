<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GovSpec – Smarter Government Procurement</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Google Analytics 4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-W62Z5FQP8Z"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-W62Z5FQP8Z');
  </script>

  <!-- Segment Analytics -->
  <script>
    !function(){var analytics=window.analytics=window.analytics||[];
    if(!analytics.initialize)
      if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");
      else {
        analytics.invoked=!0;
        analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];
        analytics.factory=function(t){return function(){
          var e=Array.prototype.slice.call(arguments);
          e.unshift(t);analytics.push(e);return analytics}};
        for(var t=0;t<analytics.methods.length;t++){
          var e=analytics.methods[t];analytics[e]=analytics.factory(e)}
        analytics.load=function(t){
          var e=document.createElement("script");
          e.type="text/javascript";e.async=!0;
          e.src="https://cdn.segment.com/analytics.js/v1/" + t + "/analytics.min.js";
          var n=document.getElementsByTagName("script")[0];
          n.parentNode.insertBefore(e,n)};
        analytics.SNIPPET_VERSION="4.13.2";
        analytics.load("YOUR_SEGMENT_WRITE_KEY");
        analytics.page();
    }}();
  </script>
</head>
<body>
  <main style="max-width: 600px; margin: auto; padding: 2rem; font-family: sans-serif;">
    <h1>GovSpec</h1>
    <p>We help vendors and contractors stay on top of changes to rate books, approved products lists, and spec updates in U.S. government procurement.</p>

    <div class="cta-buttons" style="margin: 1rem 0;">
      <a href="https://forms.gle/YOUR_SURVEY_LINK" target="_blank">→ Take Survey</a>
    </div>

    <form>
      <label for="email">Get early access:</label><br>
      <input type="email" name="email" placeholder="you@example.com" required>
      <br><br>
      <input type="submit" value="Join the Waitlist">
    </form>
  </main>

  <script>
    document.querySelectorAll('.cta-buttons a').forEach(btn => {
      btn.addEventListener('click', function () {
        console.log('Event: CTA Survey Clicked');
        gtag('event', 'cta_survey_clicked', { event_category: 'engagement', event_label: 'Survey CTA' });
        analytics.track('CTA Survey Clicked');
      });
    });

    const form = document.querySelector('form');
    const roleSelector = document.createElement('select');
    roleSelector.name = 'user-role';
    roleSelector.style.marginTop = '1rem';
    roleSelector.innerHTML = `
      <option value="">I'm a...</option>
      <option value="contractor">Government Contractor</option>
      <option value="vendor">Product Vendor</option>
      <option value="consultant">Consultant / PM</option>
      <option value="other">Other</option>
    `;
    form.insertBefore(roleSelector, form.querySelector('input[type="submit"]'));

    roleSelector.addEventListener('change', () => {
      console.log('User Segment Selected:', roleSelector.value);
      gtag('event', 'user_segment_selected', {
        event_category: 'engagement',
        event_label: roleSelector.value
      });
      analytics.track('User Segment Selected', {
        segment: roleSelector.value
      });
    });

    form.addEventListener('submit', function (e) {
      const email = form.querySelector('input[name="email"]').value;
      const role = roleSelector.value || 'unspecified';
      console.log('Event: Email Submitted –', email, role);

      gtag('event', 'email_submitted', {
        event_category: 'conversion',
        event_label: role
      });

      analytics.track('Email Submitted', {
        email: email,
        role: role
      });
    });
  </script>
</body>
</html>
